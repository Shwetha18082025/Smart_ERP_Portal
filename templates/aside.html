{% load static %}
{% load i18n %}

<div id="side-nav">
    <div class="main-menu">

        <!-- ===========================
             TOP LOGO SECTION
        ============================ -->
       <!-- TOP LOGO BLOCK -->
<div class="top-side text-center" style="background: #ffffff !important; padding-top: 20px;">
    <div class="desktop-hide">
        <div class="toggle-btn" onclick="toggleSidebar()">
            <i class="fas fa-times"></i>
        </div>
    </div>

    <!-- LOGO -->
    <a href="/" class="logo-container">
        <img src="{% static 'img/school_logo.png' %}" alt="School Logo" class="sidebar-logo">
    </a>

    <!-- SCHOOL NAME ONLY -->
    <h3 class="school-title">TRE CHIAVI ACADEMY</h3>
</div>



        <!-- ===========================
             URL DECLARATIONS
        ============================ -->
        {% url 'home' as hom %}
        {% url 'dashboard' as dash %}
        {% url 'profile' as prof %}
        {% url 'lecturer_list' as lec %}
        {% url 'student_list' as stu %}
        {% url 'course_allocation_view' as cav %}
        {% url 'programs' as pro %}
        {% url 'session_list' as sess %}
        {% url 'semester_list' as sem %}
        {% url 'add_score' as ascore %}
        {% url 'grade_results' as vr %}
        {% url 'ass_results' as ar %}
        {% url 'course_registration' as cr %}
        {% url 'edit_profile' as ep %}
        {% url 'change_password' as cp %}
        {% url 'quiz_progress' as qpr %}
        {% url 'quiz_marking' as qce %}
        {% url 'user_course_list' as ucl %}
        {% url 'admin_panel' as admin_p %}


        <!-- ===========================
             MENU ITEMS
        ============================ -->
        <ul>

            {% if request.user.is_superuser %}
            <li class="menu-dashboard {% if request.path == dash %}active{% endif %}">
                <a href="{{ dash }}">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
            </li>
            {% endif %}

            <li class="menu-home {% if request.path == hom %}active{% endif %}">
                <a href="{{ hom }}">
                    <i class="fas fa-home"></i> Home
                </a>
            </li>

            <li class="menu-profile {% if request.path == prof %}active{% endif %}">
                <a href="{{ prof }}">
                    <i class="fas fa-user"></i> Profile
                </a>
            </li>

            {% if request.user.is_superuser %}
            <li class="menu-admin {% if request.path == admin_p %}active{% endif %}">
                <a href="{{ admin_p }}">
                    <i class="fas fa-user-tie"></i> Admin Panel
                </a>
            </li>

            <li class="menu-lecturers {% if request.path == lec %}active{% endif %}">
                <a href="{{ lec }}">
                    <i class="fas fa-chalkboard-teacher"></i> Lecturers
                </a>
            </li>

            <li class="menu-students {% if request.path == stu %}active{% endif %}">
                <a href="{{ stu }}">
                    <i class="fas fa-user-graduate"></i> Students
                </a>
            </li>

            <li class="menu-allocation {% if request.path == cav %}active{% endif %}">
                <a href="{{ cav }}">
                    <i class="fas fa-tasks"></i> Course Allocation
                </a>
            </li>

            <li class="menu-session {% if request.path == sess %}active{% endif %}">
                <a href="{{ sess }}">
                    <i class="fas fa-calendar-week"></i> Manage Session
                </a>
            </li>

            <li class="menu-semester {% if request.path == sem %}active{% endif %}">
                <a href="{{ sem }}">
                    <i class="fas fa-calendar-alt"></i> Manage Semester
                </a>
            </li>
            {% endif %}

            {% if request.user.is_lecturer %}
            <li class="menu-score {% if request.path == ascore %}active{% endif %}">
                <a href="{{ ascore }}">
                    <i class="fas fa-table"></i> Manage Score
                </a>
            </li>
            {% endif %}

            <li class="menu-attendance {% if request.path == '/attendance/' %}active{% endif %}">
                <a href="{% url 'mark_attendance' %}">
                    <i class="fas fa-calendar-check"></i> Attendance
                </a>
            </li>
           


            {% if request.user.is_student %}
            <li class="menu-quizprogress {% if request.path == qpr %}active{% endif %}">
                <a href="{{ qpr }}">
                    <i class="fas fa-record-vinyl"></i> Quiz Progress
                </a>
            </li>

            <li class="menu-grades {% if request.path == vr %}active{% endif %}">
                <a href="{{ vr }}">
                    <i class="fa fa-spell-check"></i> Grade Results
                </a>
            </li>

            <li class="menu-assessment {% if request.path == ar %}active{% endif %}">
                <a href="{{ ar }}">
                    <i class="fa fa-list-ol"></i> Assessment Results
                </a>
            </li>

            <li class="menu-register {% if request.path == cr %}active{% endif %}">
                <a href="{{ cr }}">
                    <i class="fas fa-plus"></i> Add/Drop Course
                </a>
            </li>
            {% endif %}

            <li class="menu-courses {% if request.path == pro %}active{% endif %}">
                <a href="{{ pro }}">
                    <i class="fas fa-book-open"></i> Programs & Courses
                </a>
            </li>

            <li class="menu-exams {% if request.path == qce %}active{% endif %}">
                <a href="{{ qce }}">
                    <i class="fas fa-check-double"></i> Complete Exams
                </a>
            </li>


            <!-- OTHERS -->
            <br>
            <p class="ml-3">→ Others</p>

            <li class="menu-settings {% if request.path == ep %}active{% endif %}">
                <a href="{{ ep }}">
                    <i class="fas fa-cogs"></i> Account Settings
                </a>
            </li>

            <li class="menu-settings {% if request.path == cp %}active{% endif %}">
                <a href="{{ cp }}">
                    <i class="fas fa-key"></i> Change Password
                </a>
            </li>

        </ul>
    </div>

    <!-- ===========================
         FOOTER
    ============================ -->
    <footer class="card-footer mt-5 pt-3 pb-5 px-2">
        <div class="col-12">
            <form action="{% url 'set_language' %}" method="post" id="lang-form">{% csrf_token %}
                <input name="next" type="hidden" value="{{ redirect_to }}">
                <select class="small" name="language" id="lang-select">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% get_language_info_list for LANGUAGES as languages %}
                    {% for language in languages %}
                        <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected{% endif %}>
                            {{ language.name_local }} ({{ language.code }})
                        </option>
                    {% endfor %}
                </select>
            </form>

            <p class="small m-0">
                Read our <a href="#">Privacy</a> and <a href="#">Terms of use</a><br>
                Tre Chiavi © <script>document.write(new Date().getFullYear());</script>
            </p>
        </div>
    </footer>
</div>

{% block js %}
<script>
    document.getElementById("lang-select").addEventListener("change", function () {
        document.getElementById("lang-form").submit();
    });
</script>
{% endblock js %}
